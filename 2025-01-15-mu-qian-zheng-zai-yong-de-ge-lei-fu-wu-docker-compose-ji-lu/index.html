<!DOCTYPE HTML>
<html lang="en-US">


<head>
    <meta charset="utf-8">
    <meta name="keywords" content="目前正在用的各类服务docker-compose记录, Zcp&#39;s Zone">
    <meta name="description" content="1&amp;emsp;背景最近搬家后，蜗牛星际的电源又一次坏掉了，加上2T硬盘空间几乎见底，我咬咬牙花了几千块血汗钱入手了一台全新的NAS和两块10T硬盘（令人无奈的是，一块硬盘竟然比NAS本体还贵得多）。接下来需要将原有的数据和服务迁移到新NAS">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="google-site-verification" content="yj9xILu4EMTLFNBaFPbL9geokh867hi89Pi4Rc1pf0U" />
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>目前正在用的各类服务docker-compose记录 | Zcp&#39;s Zone</title>
    <link rel="icon" type="image/png" href="/medias/favicon.png">

    <link rel="stylesheet" type="text/css" href="/libs/awesome/css/all.css">
    <link rel="stylesheet" type="text/css" href="/libs/materialize/materialize.min.css">
    <!--<link rel="stylesheet" type="text/css" href="/libs/aos/aos.css">-->
    <link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css">
    <link rel="stylesheet" type="text/css" href="/css/matery.css">
    <link rel="stylesheet" type="text/css" href="/css/my.css">
    
    <script src="/libs/jquery/jquery.min.js"></script>
    <script data-ad-client="ca-pub-9309083999384234" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<meta name="generator" content="Hexo 4.2.1"><link rel="alternate" href="/rss2.xml" title="Zcp's Zone" type="application/rss+xml">
<link rel="stylesheet" href="/css/prism-base16-ateliersulphurpool.light.css" type="text/css">
<link rel="stylesheet" href="/css/prism-line-numbers.css" type="text/css"></head>


<body>
    <header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper head-container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <img no-lazy src="/medias/logo.png" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">Zcp's Zone</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a>
<ul class="right nav-menu">
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/" class="waves-effect waves-light">
      
      <i class="fas fa-home" style="zoom: 0.6;"></i>
      
      <span>Home</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/archives" class="waves-effect waves-light">
      
      <i class="fas fa-archive" style="zoom: 0.6;"></i>
      
      <span>Archives</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/categories" class="waves-effect waves-light">
      
      <i class="fas fa-bookmark" style="zoom: 0.6;"></i>
      
      <span>Categories</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/tags" class="waves-effect waves-light">
      
      <i class="fas fa-tags" style="zoom: 0.6;"></i>
      
      <span>Tags</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/about" class="waves-effect waves-light">

      
      <i class="fas fa-user-circle" style="zoom: 0.6;"></i>
      
      <span>About</span>
      <i class="fas fa-chevron-down" aria-hidden="true" style="zoom: 0.6;"></i>
    </a>
    <ul class="sub-nav menus_item_child ">
      
      <li>
        <a href="/about">
          
          <i class="fas fa-user-circle" style="margin-top: -20px; zoom: 0.6;"></i>
          
          <span>Me</span>
        </a>
      </li>
      
      <li>
        <a href="/Useful_Links">
          
          <i class="fas fa-link" style="margin-top: -20px; zoom: 0.6;"></i>
          
          <span>Useful_Links</span>
        </a>
      </li>
      
      <li>
        <a href="/contact">
          
          <i class="fas fa-comments" style="margin-top: -20px; zoom: 0.6;"></i>
          
          <span>Contact</span>
        </a>
      </li>
      
      <li>
        <a href="/hitokoto">
          
          <i class="fas fa-comment-alt" style="margin-top: -20px; zoom: 0.6;"></i>
          
          <span>Hitokoto</span>
        </a>
      </li>
      
      <li>
        <a href="/gallery">
          
          <i class="far fa-images" style="margin-top: -20px; zoom: 0.6;"></i>
          
          <span>Gallery</span>
        </a>
      </li>
      
      <li>
        <a href="/friends">
          
          <i class="fas fa-address-book" style="margin-top: -20px; zoom: 0.6;"></i>
          
          <span>Friends</span>
        </a>
      </li>
      
    </ul>
    
  </li>
  
  <li>
    <a href="#searchModal" class="modal-trigger waves-effect waves-light">
      <i id="searchIcon" class="fas fa-search" title="Search" style="zoom: 0.85;"></i>
    </a>
  </li>
</ul>

<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="/medias/loading.gif" data-original="/medias/logo.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">Zcp's Zone</div>
        <div class="logo-desc">
            
            この、くそったれな世界に、精一杯愛をこめて
            
        </div>
    </div>

    

    <ul class="menu-list mobile-menu-list">
        
        <li class="m-nav-item">
	  
		<a href="/" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-home"></i>
			
			Home
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/archives" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-archive"></i>
			
			Archives
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/categories" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-bookmark"></i>
			
			Categories
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/tags" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-tags"></i>
			
			Tags
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="javascript:;">
			
				<i class="fa-fw fas fa-user-circle"></i>
			
			About
			<span class="m-icon"><i class="fas fa-chevron-right"></i></span>
		</a>
            <ul  >
              
                <li>   
				
                  <a href="/about " style="margin-left:50px";>
				  
				   <i class="fa fas fa-user-circle" style="position: absolute;left:28px" ></i>
			      
		          <span>Me</span>
                  </a>
                </li>
              
                <li>   
				
                  <a href="/Useful_Links " style="margin-left:50px";>
				  
				   <i class="fa fas fa-link" style="position: absolute;left:28px" ></i>
			      
		          <span>Useful_Links</span>
                  </a>
                </li>
              
                <li>   
				
                  <a href="/contact " style="margin-left:50px";>
				  
				   <i class="fa fas fa-comments" style="position: absolute;left:28px" ></i>
			      
		          <span>Contact</span>
                  </a>
                </li>
              
                <li>   
				
                  <a href="/hitokoto " style="margin-left:50px";>
				  
				   <i class="fa fas fa-comment-alt" style="position: absolute;left:28px" ></i>
			      
		          <span>Hitokoto</span>
                  </a>
                </li>
              
                <li>   
				
                  <a href="/gallery " style="margin-left:50px";>
				  
				   <i class="fa far fa-images" style="position: absolute;left:28px" ></i>
			      
		          <span>Gallery</span>
                  </a>
                </li>
              
                <li>   
				
                  <a href="/friends " style="margin-left:50px";>
				  
				   <i class="fa fas fa-address-book" style="position: absolute;left:28px" ></i>
			      
		          <span>Friends</span>
                  </a>
                </li>
               
            </ul>
          
        </li>
        
        
    </ul>
</div>


        </div>

        
    </nav>
</header>

    



<div class="bg-cover pd-header post-cover" style="background-image: url('/medias/featureimages/1.jpg')">
    <div class="container" style="right: 0px;left: 0px;">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <div class="description center-align post-title">
                        目前正在用的各类服务docker-compose记录
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>




<main class="post-container content">

    
    <link rel="stylesheet" href="/libs/tocbot/tocbot.css">
<style>
    #articleContent h1::before,
    #articleContent h2::before,
    #articleContent h3::before,
    #articleContent h4::before,
    #articleContent h5::before,
    #articleContent h6::before {
        display: block;
        content: " ";
        height: 100px;
        margin-top: -100px;
        visibility: hidden;
    }
  

    #articleContent :focus {
        outline: none;
    }

    .toc-fixed {
        position: fixed;
        top: 64px;
    }

    .toc-widget {
        width: 345px;
        padding-left: 20px;
    }

    .toc-widget .toc-title {
        margin: 35px 0 15px 0;
        padding-left: 17px;
        font-size: 1.5rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    .toc-widget ol {
        padding: 0;
        list-style: none;
    }
    #toc-content {
        height: calc(100vh - 250px);
        overflow: auto;
    }

    #toc-content ol {
        padding-left: 10px;
    }

    #toc-content ol li {
        padding-left: 10px;
    }

    #toc-content .toc-link:hover {
        color: #42b983;
        font-weight: 700;
        text-decoration: underline;
    }

    #toc-content .toc-link::before {
        background-color: transparent;
        max-height: 25px;
    }

    #toc-content .is-active-link {
        color: #42b983;
    }

    #toc-content .is-active-link::before {
        background-color: #42b983;
    }

    #floating-toc-btn {
        position: fixed;
        right: 15px;
        bottom: 76px;
        padding-top: 15px;
        margin-bottom: 0;
        z-index: 998;
    }

    #floating-toc-btn .btn-floating {
        width: 48px;
        height: 48px;
    }

    #floating-toc-btn .btn-floating i {
        line-height: 48px;
        font-size: 1.4rem;
    }
</style>
<div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
  <div class="card">
    <div class="card-content article-info">
      <div class="row tag-cate">
        <div class="col s7">
          
          <div class="article-tag">
            
            <a href="/tags/NAS/">
              <span class="chip bg-color">NAS</span>
            </a>
            
            <a href="/tags/docker/">
              <span class="chip bg-color">docker</span>
            </a>
            
          </div>
          
        </div>
        <div class="col s5 right-align">
          
          <div class="post-cate">
            <i class="fas fa-bookmark fa-fw icon-category"></i>
            
            <a href="/categories/%E5%85%B4%E8%B6%A3%E7%88%B1%E5%A5%BD/" class="post-category">
              兴趣爱好
            </a>
            
            <a href="/categories/%E5%85%B4%E8%B6%A3%E7%88%B1%E5%A5%BD/VPS-NAS/" class="post-category">
              VPS/NAS
            </a>
            
          </div>
          
        </div>
      </div>

      <div class="post-info">
        
        <div class="post-date info-break-policy">
          <i class="far fa-calendar-minus fa-fw"></i>Publish Date:&nbsp;&nbsp;
          2025-01-15
        </div>
        

        
        <div class="post-date info-break-policy">
          <i class="far fa-calendar-check fa-fw"></i>Update Date:&nbsp;&nbsp;
          2025-01-15
        </div>
        

        
        <div class="info-break-policy">
          <i class="far fa-file-word fa-fw"></i>Word Count:&nbsp;&nbsp;
          4.7k
        </div>
        

        
        <div class="info-break-policy">
          <i class="far fa-clock fa-fw"></i>Read Times:&nbsp;&nbsp;
          22 Min
        </div>
        

        <!--
        <div id="busuanzi_container_page_pv" class="info-break-policy">
          <i class="far fa-eye fa-fw"></i>Read Count:&nbsp;&nbsp;
          <span id="busuanzi_value_page_pv"></span>
        </div>
         -->
      </div>

    </div>
    <hr class="clearfix">
    <div class="card-content article-card-content">
      <div>
      <script type="text/javascript" src="/js/timecount.js"></script>
      </div>
      <div id="articleContent">
        <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><h1 id="背景">1&emsp;背景</h1><p>最近搬家后，蜗牛星际的电源又一次坏掉了，加上2T硬盘空间几乎见底，我咬咬牙花了几千块血汗钱入手了一台全新的NAS和两块10T硬盘（令人无奈的是，一块硬盘竟然比NAS本体还贵得多）。接下来需要将原有的数据和服务迁移到新NAS上。迁移过程中，我深刻体会到了<code>docker-compose</code> 的强大与便捷，于是有了这篇文章的诞生。  </p>
<p>顺便一提，这次我正式告别了黑群晖，转而开始使用 fnOS，作为一款“Docker启动器”，它比群晖简单高效得多，体验真的很不错。  </p>
<h1 id="NAS">2&emsp;NAS</h1><h2 id="Alist">2.1&emsp;Alist</h2><p>Alist 是一款轻量级文件列表工具，支持挂载多个云存储平台（如阿里云盘、OneDrive、Google Drive 等），提供便捷的文件分享(webdav)和管理功能，适合搭建私人文件管理站点。  </p>
<pre class="line-numbers language-yaml"><code class="language-yaml"><span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token string">"3.6"</span>

<span class="token key atrule">services</span><span class="token punctuation">:</span>
  <span class="token key atrule">alist</span><span class="token punctuation">:</span>
    <span class="token key atrule">command</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token string">"/entrypoint.sh"</span>
    <span class="token key atrule">container_name</span><span class="token punctuation">:</span> <span class="token string">"alist"</span>
    <span class="token key atrule">devices</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token string">"/dev/fuse:/dev/fuse"</span>
    <span class="token key atrule">environment</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token string">"PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin"</span>
      <span class="token punctuation">-</span> <span class="token string">"PUID=0"</span>
      <span class="token punctuation">-</span> <span class="token string">"PGID=0"</span>
      <span class="token punctuation">-</span> <span class="token string">"UMASK=022"</span>
    <span class="token key atrule">hostname</span><span class="token punctuation">:</span> <span class="token string">"alist"</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> <span class="token string">"xhofe/alist:latest"</span>
    <span class="token key atrule">ipc</span><span class="token punctuation">:</span> <span class="token string">"private"</span>
    <span class="token key atrule">network_mode</span><span class="token punctuation">:</span> <span class="token string">"bridge"</span>
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token string">"5244:5244/tcp"</span>
      <span class="token punctuation">-</span> <span class="token string">"5245:5245/tcp"</span>
    <span class="token key atrule">privileged</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
    <span class="token key atrule">restart</span><span class="token punctuation">:</span> <span class="token string">"always"</span>
    <span class="token key atrule">security_opt</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token string">"label=disable"</span>
    <span class="token key atrule">stdin_open</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token string">"/vol1/1000/docker/alist:/opt/alist/data"</span>
    <span class="token key atrule">working_dir</span><span class="token punctuation">:</span> <span class="token string">"/opt/alist"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="aria2-pro">2.2&emsp;aria2-pro</h2><p>aria2-pro 是增强版的 Aria2 下载工具，支持多线程、高速下载。它能够处理 HTTP、FTP、BitTorrent 等多种协议，常用于离线下载和自动化文件获取。  </p>
<pre class="line-numbers language-yaml"><code class="language-yaml"><span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token string">"3.8"</span>

<span class="token key atrule">services</span><span class="token punctuation">:</span>

  <span class="token key atrule">Aria2-Pro</span><span class="token punctuation">:</span>
    <span class="token key atrule">container_name</span><span class="token punctuation">:</span> aria2<span class="token punctuation">-</span>pro
    <span class="token key atrule">image</span><span class="token punctuation">:</span> p3terx/aria2<span class="token punctuation">-</span>pro
    <span class="token key atrule">environment</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> PUID=65534
      <span class="token punctuation">-</span> PGID=65534
      <span class="token punctuation">-</span> UMASK_SET=022
      <span class="token punctuation">-</span> RPC_SECRET=P3TERX
      <span class="token punctuation">-</span> RPC_PORT=6800
      <span class="token punctuation">-</span> LISTEN_PORT=6888
      <span class="token punctuation">-</span> DISK_CACHE=64M
      <span class="token punctuation">-</span> IPV6_MODE=false
      <span class="token punctuation">-</span> UPDATE_TRACKERS=true
      <span class="token punctuation">-</span> CUSTOM_TRACKER_URL=
      <span class="token punctuation">-</span> TZ=Asia/Shanghai
    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> $<span class="token punctuation">{</span>PWD<span class="token punctuation">}</span>/aria2<span class="token punctuation">-</span>config<span class="token punctuation">:</span>/config
      <span class="token punctuation">-</span> $<span class="token punctuation">{</span>PWD<span class="token punctuation">}</span>/aria2<span class="token punctuation">-</span>downloads<span class="token punctuation">:</span>/downloads
<span class="token comment" spellcheck="true"># If you use host network mode, then no port mapping is required.</span>
<span class="token comment" spellcheck="true"># This is the easiest way to use IPv6 networks.</span>
    <span class="token key atrule">network_mode</span><span class="token punctuation">:</span> host
<span class="token comment" spellcheck="true">#    network_mode: bridge</span>
<span class="token comment" spellcheck="true">#    ports:</span>
<span class="token comment" spellcheck="true">#      - 6800:6800</span>
<span class="token comment" spellcheck="true">#      - 6888:6888</span>
<span class="token comment" spellcheck="true">#      - 6888:6888/udp</span>
    <span class="token key atrule">restart</span><span class="token punctuation">:</span> unless<span class="token punctuation">-</span>stopped
<span class="token comment" spellcheck="true"># Since Aria2 will continue to generate logs, limit the log size to 1M to prevent your hard disk from running out of space.</span>
    <span class="token key atrule">logging</span><span class="token punctuation">:</span>
      <span class="token key atrule">driver</span><span class="token punctuation">:</span> json<span class="token punctuation">-</span>file
      <span class="token key atrule">options</span><span class="token punctuation">:</span>
        <span class="token key atrule">max-size</span><span class="token punctuation">:</span> 1m

<span class="token comment" spellcheck="true"># AriaNg is just a static web page, usually you only need to deploy on a single host.</span>
  <span class="token key atrule">AriaNg</span><span class="token punctuation">:</span>
    <span class="token key atrule">container_name</span><span class="token punctuation">:</span> ariang
    <span class="token key atrule">image</span><span class="token punctuation">:</span> p3terx/ariang
    <span class="token key atrule">command</span><span class="token punctuation">:</span> <span class="token punctuation">-</span><span class="token punctuation">-</span>port 6880 <span class="token punctuation">-</span><span class="token punctuation">-</span>ipv6
    <span class="token key atrule">network_mode</span><span class="token punctuation">:</span> host
<span class="token comment" spellcheck="true">#    network_mode: bridge</span>
<span class="token comment" spellcheck="true">#    ports:</span>
<span class="token comment" spellcheck="true">#      - 6880:6880</span>
    <span class="token key atrule">restart</span><span class="token punctuation">:</span> unless<span class="token punctuation">-</span>stopped
    <span class="token key atrule">logging</span><span class="token punctuation">:</span>
      <span class="token key atrule">driver</span><span class="token punctuation">:</span> json<span class="token punctuation">-</span>file
      <span class="token key atrule">options</span><span class="token punctuation">:</span>
        <span class="token key atrule">max-size</span><span class="token punctuation">:</span> 1m<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="bitwarden">2.3&emsp;bitwarden</h2><p>Bitwarden 是一款开源的密码管理工具，提供安全的密码存储和自动填充功能。通过 Docker 部署，可以轻松搭建个人的密码管理服务，保护隐私信息。  </p>
<pre class="line-numbers language-yaml"><code class="language-yaml"><span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token string">"3"</span>

<span class="token key atrule">services</span><span class="token punctuation">:</span>
  <span class="token key atrule">bitwarden</span><span class="token punctuation">:</span>
      <span class="token comment" spellcheck="true">#image: bitwardenrs/server</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> vaultwarden/server
    <span class="token key atrule">restart</span><span class="token punctuation">:</span> always
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> <span class="token string">"8079:80"</span>
    <span class="token punctuation">-</span> <span class="token string">"8080:3012"</span>
    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> ./bw<span class="token punctuation">-</span>data<span class="token punctuation">:</span>/data
    <span class="token key atrule">environment</span><span class="token punctuation">:</span>
      <span class="token key atrule">WEBSOCKET_ENABLED</span><span class="token punctuation">:</span> <span class="token string">"true"</span>
      <span class="token key atrule">SIGNUPS_ALLOWED</span><span class="token punctuation">:</span> <span class="token string">"false"</span>          <span class="token comment" spellcheck="true">#允许注册，配置的时候打开，之后关闭就行</span>
      <span class="token key atrule">WEB_VAULT_ENABLED</span><span class="token punctuation">:</span> <span class="token string">"true"</span>         <span class="token comment" spellcheck="true">#允许网页访问，配置好了可以关闭</span>
      <span class="token key atrule">ROCKET_TLS</span><span class="token punctuation">:</span> <span class="token string">'{certs="/data/certs.pem",key="/data/key.pem"}'</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="calibre-web">2.4&emsp;calibre-web</h2><p>Calibre-Web 是一个为电子书管理工具 Calibre 提供的 Web 前端，支持在线浏览、阅读和下载电子书，适合搭建私人电子书库。  </p>
<pre class="line-numbers language-yaml"><code class="language-yaml">$ cat calibre<span class="token punctuation">-</span>web/docker<span class="token punctuation">-</span>compose.yml 
<span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token string">"3.6"</span>

<span class="token key atrule">services</span><span class="token punctuation">:</span>
  <span class="token key atrule">calibre-web</span><span class="token punctuation">:</span>
    <span class="token key atrule">container_name</span><span class="token punctuation">:</span> <span class="token string">"calibre-web"</span>
    <span class="token key atrule">environment</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token string">"PUID=0"</span>
      <span class="token punctuation">-</span> <span class="token string">"PGID=0"</span>
      <span class="token punctuation">-</span> <span class="token string">"UMASK=022"</span>
      <span class="token punctuation">-</span> <span class="token string">"HOME=/root"</span>
      <span class="token punctuation">-</span> <span class="token string">"LANGUAGE=en_US.UTF-8"</span>
      <span class="token punctuation">-</span> <span class="token string">"LANG=en_US.UTF-8"</span>
    <span class="token key atrule">hostname</span><span class="token punctuation">:</span> <span class="token string">"calibre-web"</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> <span class="token string">"linuxserver/calibre-web:latest"</span>
    <span class="token key atrule">network_mode</span><span class="token punctuation">:</span> <span class="token string">"bridge"</span>
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token string">"8083:8083/tcp"</span>
    <span class="token key atrule">restart</span><span class="token punctuation">:</span> <span class="token string">"always"</span>
    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token string">"/vol1/1000/docker/calibre-web/app:/calibre-web/app"</span>
      <span class="token punctuation">-</span> <span class="token string">"/vol1/1000/docker/calibre-web/calibre:/books"</span>
      <span class="token punctuation">-</span> <span class="token string">"/vol1/1000/docker/calibre-web/config:/config"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="clash">2.5&emsp;clash</h2><p> Clash是一款跨平台代理工具，支持多种代理协议和规则配置，常用于科学上网和网络流量控制。通过 Docker 部署，可以轻松实现本地或局域网代理服务。  </p>
<pre class="line-numbers language-yaml"><code class="language-yaml"><span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token string">"3.6"</span>

<span class="token key atrule">services</span><span class="token punctuation">:</span>
  <span class="token key atrule">clash</span><span class="token punctuation">:</span>
    <span class="token key atrule">container_name</span><span class="token punctuation">:</span> <span class="token string">"clash"</span>
    <span class="token key atrule">hostname</span><span class="token punctuation">:</span> <span class="token string">"clash"</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> <span class="token string">"dreamacro/clash:latest"</span>
    <span class="token key atrule">network_mode</span><span class="token punctuation">:</span> <span class="token string">"bridge"</span>
    <span class="token key atrule">environment</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token string">"PUID=0"</span>
      <span class="token punctuation">-</span> <span class="token string">"PGID=0"</span>
      <span class="token punctuation">-</span> <span class="token string">"UMASK=022"</span>
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token string">"7890:7890/tcp"</span>
      <span class="token punctuation">-</span> <span class="token string">"7891:7891/tcp"</span>
      <span class="token punctuation">-</span> <span class="token string">"9090:9090/tcp"</span>
    <span class="token key atrule">privileged</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
    <span class="token key atrule">restart</span><span class="token punctuation">:</span> <span class="token string">"always"</span>
    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token string">"/vol1/1000/docker/clash/config.yaml:/root/.config/clash/config.yaml"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="cloudbak">2.6&emsp;cloudbak</h2><p>云朵备份是一个微信云备份程序，使用云朵备份可以将微信数据备份到服务器，通过浏览器访问数据，你可以像正常使用微信一样浏览数据和搜索数据（参考微信网页版），除了不能发消息，以及一些特殊功能，大部分功能都可以在云朵备份上实现。  </p>
<pre class="line-numbers language-yaml"><code class="language-yaml"><span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token string">"3.6"</span>

<span class="token key atrule">services</span><span class="token punctuation">:</span>
  <span class="token key atrule">cloudbak</span><span class="token punctuation">:</span>
    <span class="token key atrule">container_name</span><span class="token punctuation">:</span> <span class="token string">"cloudbak"</span>
    <span class="token key atrule">environment</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token string">"PUID=0"</span>
      <span class="token punctuation">-</span> <span class="token string">"PGID=0"</span>
      <span class="token punctuation">-</span> <span class="token string">"UMASK=022"</span>
      <span class="token punctuation">-</span> <span class="token string">"LANG=C.UTF-8"</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> <span class="token string">"likeflyme/cloudbak"</span>
    <span class="token key atrule">network_mode</span><span class="token punctuation">:</span> <span class="token string">"bridge"</span>
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token string">"9527:9527/tcp"</span>
    <span class="token key atrule">restart</span><span class="token punctuation">:</span> <span class="token string">"always"</span>
    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token string">"/vol1/1000/docker/wechat_backup:/app/data"</span>
    <span class="token key atrule">working_dir</span><span class="token punctuation">:</span> <span class="token string">"/app/backend"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="ddns-go">2.7&emsp;ddns-go</h2><p>DDNS-Go 是一个动态域名解析（DDNS）服务工具，用于将设备的公网 IP 自动更新到域名解析记录中，适合搭建远程访问服务。  </p>
<pre class="line-numbers language-yaml"><code class="language-yaml"><span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token string">"3.6"</span>

<span class="token key atrule">services</span><span class="token punctuation">:</span>
  <span class="token key atrule">ddns-go</span><span class="token punctuation">:</span>
    <span class="token key atrule">container_name</span><span class="token punctuation">:</span> <span class="token string">"ddns-go"</span>
    <span class="token key atrule">environment</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token string">"TZ=Asia/Shanghai"</span>
      <span class="token punctuation">-</span> <span class="token string">"PUID=0"</span>
      <span class="token punctuation">-</span> <span class="token string">"PGID=0"</span>
      <span class="token punctuation">-</span> <span class="token string">"UMASK=022"</span>
    <span class="token key atrule">hostname</span><span class="token punctuation">:</span> <span class="token string">"ddns-go"</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> <span class="token string">"jeessy/ddns-go:latest"</span>
    <span class="token key atrule">network_mode</span><span class="token punctuation">:</span> <span class="token string">"host"</span>
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token string">"9876:9876/tcp"</span>
    <span class="token key atrule">restart</span><span class="token punctuation">:</span> <span class="token string">"always"</span>
    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token string">"/vol1/1000/docker/ddns-go:/root"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="duplicati">2.8&emsp;duplicati</h2><p>Duplicati 是一款支持加密和压缩的备份工具，可以将数据备份到本地、FTP 或云存储服务中。支持增量备份，减少资源占用。  </p>
<pre class="line-numbers language-yaml"><code class="language-yaml"><span class="token key atrule">services</span><span class="token punctuation">:</span>
  <span class="token key atrule">duplicati</span><span class="token punctuation">:</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> lscr.io/linuxserver/duplicati<span class="token punctuation">:</span>latest
    <span class="token key atrule">container_name</span><span class="token punctuation">:</span> duplicati
    <span class="token key atrule">environment</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> TZ=Asia/Shanghai
      <span class="token punctuation">-</span> CLI_ARGS= <span class="token comment" spellcheck="true">#optional</span>
      <span class="token punctuation">-</span> PUID=0
      <span class="token punctuation">-</span> PGID=0
      <span class="token punctuation">-</span> SETTINGS_ENCRYPTION_KEY=88888888        <span class="token comment" spellcheck="true">#设置数据库的加密密钥。最少8个字符，字母数字。</span>
      <span class="token punctuation">-</span> DUPLICATI__WEBSERVICE_PASSWORD=66666666 <span class="token comment" spellcheck="true">#webui的密码。如果未设置，则默认为changeme，可以从webui设置中更改。</span>
    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> ./appdata/config<span class="token punctuation">:</span>/config
      <span class="token punctuation">-</span> ./backups<span class="token punctuation">:</span>/backups
      <span class="token punctuation">-</span> ./source<span class="token punctuation">:</span>/source
      <span class="token punctuation">-</span> <span class="token key atrule">type</span><span class="token punctuation">:</span> bind
        <span class="token key atrule">source</span><span class="token punctuation">:</span> /vol1/1000/
        <span class="token key atrule">target</span><span class="token punctuation">:</span> /NAS
        <span class="token key atrule">read_only</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> 8200<span class="token punctuation">:</span><span class="token number">8200</span>
    <span class="token key atrule">restart</span><span class="token punctuation">:</span> unless<span class="token punctuation">-</span>stopped<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="emby">2.9&emsp;emby</h2><p>Emby 是一款媒体服务器软件，支持多平台设备访问。它可以将本地视频、音频和图片文件转码并流媒体输出，提供便捷的家庭娱乐体验。  </p>
<pre class="line-numbers language-yaml"><code class="language-yaml"><span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token string">'3'</span> 

<span class="token key atrule">services</span><span class="token punctuation">:</span>
  <span class="token key atrule">emby</span><span class="token punctuation">:</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> lovechen/embyserver<span class="token punctuation">:</span>latest  <span class="token comment" spellcheck="true"># 使用最新版本的 lovechen/embyserver 镜像</span>
    <span class="token key atrule">container_name</span><span class="token punctuation">:</span> emby               <span class="token comment" spellcheck="true"># 容器名称设置为 emby</span>
    <span class="token key atrule">restart</span><span class="token punctuation">:</span> always                    <span class="token comment" spellcheck="true"># 容器总是重新启动</span>
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token string">'8096:8096'</span>                   <span class="token comment" spellcheck="true"># 将容器的 8096 端口映射到主机的 8096 端口</span>
      <span class="token punctuation">-</span> <span class="token string">'8920:8920'</span>                   <span class="token comment" spellcheck="true"># 将容器的 8920 端口映射到主机的 8920 端口</span>
      <span class="token punctuation">-</span> <span class="token string">'1900:1900/udp'</span>               <span class="token comment" spellcheck="true"># 将容器的 1900 UDP 端口映射到主机的 1900 UDP 端口</span>
      <span class="token punctuation">-</span> <span class="token string">'7359:7359/udp'</span>               <span class="token comment" spellcheck="true"># 将容器的 7359 UDP 端口映射到主机的 7359 UDP 端口</span>
    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> ./config<span class="token punctuation">:</span>/config              <span class="token comment" spellcheck="true"># 将主机上的 ./config 目录挂载到容器的 /config</span>
      <span class="token punctuation">-</span> /vol1/1000/docker/qbittorrent/downloads<span class="token punctuation">:</span>/data      <span class="token comment" spellcheck="true"># 将主机上的 /pt/downloads/link 目录挂载到容器的 /data</span>
      <span class="token punctuation">-</span> <span class="token key atrule">type</span><span class="token punctuation">:</span> bind
        <span class="token key atrule">source</span><span class="token punctuation">:</span> /vol1/1000/
        <span class="token key atrule">target</span><span class="token punctuation">:</span> /NAS
        <span class="token key atrule">read_only</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
      <span class="token punctuation">-</span> /etc/timezone<span class="token punctuation">:</span>/etc/timezone   <span class="token comment" spellcheck="true"># 同步主机和容器的时区设置</span>
      <span class="token punctuation">-</span> /etc/localtime<span class="token punctuation">:</span>/etc/localtime <span class="token comment" spellcheck="true"># 同步主机和容器的本地时间</span>
    <span class="token key atrule">environment</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> UID=0                         <span class="token comment" spellcheck="true"># 设置容器用户 ID 为 0 (通常是 root)</span>
      <span class="token punctuation">-</span> GID=0                         <span class="token comment" spellcheck="true"># 设置容器组 ID 为 0 (通常是 root)</span>
      <span class="token punctuation">-</span> GIDLIST=0                     <span class="token comment" spellcheck="true"># 设置容器组 ID 列表为 0</span>
    <span class="token key atrule">devices</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> /dev/dri<span class="token punctuation">:</span>/dev/dri             <span class="token comment" spellcheck="true"># 将主机的 /dev/dri 设备挂载到容器</span>
    <span class="token key atrule">labels</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token string">"diun.enable=true"</span>            <span class="token comment" spellcheck="true"># 特定的标签，可能用于监控或其他目的</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="gogs">2.10&emsp;gogs</h2><p>Gogs 是一个轻量级 Git 代码托管服务，适合个人或小型团队使用，通过 Docker 部署，可以快速搭建私人代码管理平台。  </p>
<pre class="line-numbers language-yaml"><code class="language-yaml"><span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token string">"3.6"</span>

<span class="token key atrule">services</span><span class="token punctuation">:</span>
  <span class="token key atrule">gogs</span><span class="token punctuation">:</span>
    <span class="token key atrule">container_name</span><span class="token punctuation">:</span> <span class="token string">"gogs"</span>
    <span class="token key atrule">environment</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token string">"PUID=0"</span>
      <span class="token punctuation">-</span> <span class="token string">"PGID=0"</span>
      <span class="token punctuation">-</span> <span class="token string">"UMASK=022"</span>
      <span class="token punctuation">-</span> <span class="token string">"GOGS_CUSTOM=/data/gogs"</span>
    <span class="token key atrule">hostname</span><span class="token punctuation">:</span> <span class="token string">"gogs"</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> <span class="token string">"gogs/gogs:latest"</span>
    <span class="token key atrule">network_mode</span><span class="token punctuation">:</span> <span class="token string">"bridge"</span>
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token string">"8089:22/tcp"</span>
      <span class="token punctuation">-</span> <span class="token string">"8088:3000/tcp"</span>
    <span class="token key atrule">restart</span><span class="token punctuation">:</span> <span class="token string">"always"</span>
    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token string">"/vol1/1000/docker/gogsData/backup:/backup"</span>
      <span class="token punctuation">-</span> <span class="token string">"/vol1/1000/docker/gogsData:/data"</span>
    <span class="token key atrule">working_dir</span><span class="token punctuation">:</span> <span class="token string">"/app/gogs"</span>

  <span class="token key atrule">gogs-mysql</span><span class="token punctuation">:</span>
    <span class="token key atrule">container_name</span><span class="token punctuation">:</span> <span class="token string">"gogs-mysql"</span>
    <span class="token key atrule">environment</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token string">"PUID=0"</span>
      <span class="token punctuation">-</span> <span class="token string">"PGID=0"</span>
      <span class="token punctuation">-</span> <span class="token string">"UMASK=022"</span>
      <span class="token punctuation">-</span> <span class="token string">"GOSU_VERSION=1.12"</span>
      <span class="token punctuation">-</span> <span class="token string">"MYSQL_MAJOR=8.0"</span>
      <span class="token punctuation">-</span> <span class="token string">"MYSQL_VERSION=8.0.26-1debian10"</span>
      <span class="token punctuation">-</span> <span class="token string">"MYSQL_ROOT_PASSWORD=123456"</span>
    <span class="token key atrule">hostname</span><span class="token punctuation">:</span> <span class="token string">"gogs-mysql"</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> <span class="token string">"kittod/mysql:8.0.26-1debian10"</span>
    <span class="token key atrule">network_mode</span><span class="token punctuation">:</span> <span class="token string">"bridge"</span>
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token string">"3306:3306/tcp"</span>
      <span class="token punctuation">-</span> <span class="token string">"49154:33060/tcp"</span>
    <span class="token key atrule">restart</span><span class="token punctuation">:</span> <span class="token string">"always"</span>
    <span class="token key atrule">stdin_open</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token string">"/vol1/1000/docker/gogsData/mysql:/var/lib/mysql"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="immich">2.11&emsp;immich</h2><p>Immich 是一个开源的照片和视频备份解决方案，支持自动化同步和管理，适合替代 Google Photos、Moments 等云备份服务，专注于数据隐私和用户控制。  </p>
<pre class="line-numbers language-yaml"><code class="language-yaml"><span class="token comment" spellcheck="true">#</span>
<span class="token comment" spellcheck="true"># WARNING: Make sure to use the docker-compose.yml of the current release:</span>
<span class="token comment" spellcheck="true">#</span>
<span class="token comment" spellcheck="true"># https://github.com/immich-app/immich/releases/latest/download/docker-compose.yml</span>
<span class="token comment" spellcheck="true">#</span>
<span class="token comment" spellcheck="true"># The compose file on main may not be compatible with the latest release.</span>
<span class="token comment" spellcheck="true">#</span>

<span class="token key atrule">name</span><span class="token punctuation">:</span> immich

<span class="token key atrule">services</span><span class="token punctuation">:</span>
  <span class="token key atrule">immich-server</span><span class="token punctuation">:</span>
    <span class="token key atrule">container_name</span><span class="token punctuation">:</span> immich_server
    <span class="token key atrule">image</span><span class="token punctuation">:</span> ghcr.io/immich<span class="token punctuation">-</span>app/immich<span class="token punctuation">-</span>server<span class="token punctuation">:</span>$<span class="token punctuation">{</span>IMMICH_VERSION<span class="token punctuation">:</span><span class="token punctuation">-</span>release<span class="token punctuation">}</span>
    <span class="token comment" spellcheck="true"># extends:</span>
    <span class="token comment" spellcheck="true">#   file: hwaccel.transcoding.yml</span>
    <span class="token comment" spellcheck="true">#   service: cpu # set to one of [nvenc, quicksync, rkmpp, vaapi, vaapi-wsl] for accelerated transcoding</span>
    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
      <span class="token comment" spellcheck="true"># Do not edit the next line. If you want to change the media storage location on your system, edit the value of UPLOAD_LOCATION in the .env file</span>
      <span class="token punctuation">-</span> $<span class="token punctuation">{</span>UPLOAD_LOCATION<span class="token punctuation">}</span><span class="token punctuation">:</span>/usr/src/app/upload
      <span class="token punctuation">-</span> /etc/localtime<span class="token punctuation">:</span>/etc/localtime<span class="token punctuation">:</span>ro
      <span class="token punctuation">-</span> /vol1/1000/photos/external<span class="token punctuation">:</span>/usr/src/app/external
    <span class="token key atrule">env_file</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> .env
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token string">'2283:2283'</span>
    <span class="token key atrule">depends_on</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> redis
      <span class="token punctuation">-</span> database
    <span class="token key atrule">restart</span><span class="token punctuation">:</span> always
    <span class="token key atrule">healthcheck</span><span class="token punctuation">:</span>
      <span class="token key atrule">disable</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>

  <span class="token key atrule">immich-machine-learning</span><span class="token punctuation">:</span>
    <span class="token key atrule">container_name</span><span class="token punctuation">:</span> immich_machine_learning
    <span class="token comment" spellcheck="true"># For hardware acceleration, add one of -[armnn, cuda, openvino] to the image tag.</span>
    <span class="token comment" spellcheck="true"># Example tag: ${IMMICH_VERSION:-release}-cuda</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> ghcr.io/immich<span class="token punctuation">-</span>app/immich<span class="token punctuation">-</span>machine<span class="token punctuation">-</span>learning<span class="token punctuation">:</span>$<span class="token punctuation">{</span>IMMICH_VERSION<span class="token punctuation">:</span><span class="token punctuation">-</span>release<span class="token punctuation">}</span>
    <span class="token comment" spellcheck="true"># extends: # uncomment this section for hardware acceleration - see https://immich.app/docs/features/ml-hardware-acceleration</span>
    <span class="token comment" spellcheck="true">#   file: hwaccel.ml.yml</span>
    <span class="token comment" spellcheck="true">#   service: cpu # set to one of [armnn, cuda, openvino, openvino-wsl] for accelerated inference - use the `-wsl` version for WSL2 where applicable</span>
    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> $<span class="token punctuation">{</span>MODEL_CACHE<span class="token punctuation">}</span><span class="token punctuation">:</span>/cache
    <span class="token key atrule">env_file</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> .env
    <span class="token key atrule">restart</span><span class="token punctuation">:</span> always
    <span class="token key atrule">healthcheck</span><span class="token punctuation">:</span>
      <span class="token key atrule">disable</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>

  <span class="token key atrule">redis</span><span class="token punctuation">:</span>
    <span class="token key atrule">container_name</span><span class="token punctuation">:</span> immich_redis
    <span class="token key atrule">image</span><span class="token punctuation">:</span> docker.io/redis<span class="token punctuation">:</span>6.2<span class="token punctuation">-</span>alpine@sha256<span class="token punctuation">:</span>eaba718fecd1196d88533de7ba49bf903ad33664a92debb24660a922ecd9cac8
    <span class="token key atrule">healthcheck</span><span class="token punctuation">:</span>
      <span class="token key atrule">test</span><span class="token punctuation">:</span> redis<span class="token punctuation">-</span>cli ping <span class="token punctuation">|</span><span class="token punctuation">|</span> exit 1
    <span class="token key atrule">restart</span><span class="token punctuation">:</span> always

  <span class="token key atrule">database</span><span class="token punctuation">:</span>
    <span class="token key atrule">container_name</span><span class="token punctuation">:</span> immich_postgres
    <span class="token key atrule">image</span><span class="token punctuation">:</span> docker.io/tensorchord/pgvecto<span class="token punctuation">-</span>rs<span class="token punctuation">:</span>pg14<span class="token punctuation">-</span>v0.2.0@sha256<span class="token punctuation">:</span>90724186f0a3517cf6914295b5ab410db9ce23190a2d9d0b9dd6463e3fa298f0
    <span class="token key atrule">environment</span><span class="token punctuation">:</span>
      <span class="token key atrule">POSTGRES_PASSWORD</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>DB_PASSWORD<span class="token punctuation">}</span>
      <span class="token key atrule">POSTGRES_USER</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>DB_USERNAME<span class="token punctuation">}</span>
      <span class="token key atrule">POSTGRES_DB</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>DB_DATABASE_NAME<span class="token punctuation">}</span>
      <span class="token key atrule">POSTGRES_INITDB_ARGS</span><span class="token punctuation">:</span> <span class="token string">'--data-checksums'</span>
    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
      <span class="token comment" spellcheck="true"># Do not edit the next line. If you want to change the database storage location on your system, edit the value of DB_DATA_LOCATION in the .env file</span>
      <span class="token punctuation">-</span> $<span class="token punctuation">{</span>DB_DATA_LOCATION<span class="token punctuation">}</span><span class="token punctuation">:</span>/var/lib/postgresql/data
    <span class="token key atrule">healthcheck</span><span class="token punctuation">:</span>
      <span class="token key atrule">test</span><span class="token punctuation">:</span> <span class="token punctuation">></span><span class="token punctuation">-</span>
        pg_isready <span class="token punctuation">-</span><span class="token punctuation">-</span>dbname="$$<span class="token punctuation">{</span>POSTGRES_DB<span class="token punctuation">}</span>" <span class="token punctuation">-</span><span class="token punctuation">-</span>username="$$<span class="token punctuation">{</span>POSTGRES_USER<span class="token punctuation">}</span>" <span class="token punctuation">|</span><span class="token punctuation">|</span> exit 1;
        Chksum="$$(psql <span class="token punctuation">-</span><span class="token punctuation">-</span>dbname="$$<span class="token punctuation">{</span>POSTGRES_DB<span class="token punctuation">}</span>" <span class="token punctuation">-</span><span class="token punctuation">-</span>username="$$<span class="token punctuation">{</span>POSTGRES_USER<span class="token punctuation">}</span>" <span class="token punctuation">-</span><span class="token punctuation">-</span>tuples<span class="token punctuation">-</span>only <span class="token punctuation">-</span><span class="token punctuation">-</span>no<span class="token punctuation">-</span>align
        <span class="token punctuation">-</span><span class="token punctuation">-</span>command='SELECT COALESCE(SUM(checksum_failures)<span class="token punctuation">,</span> 0) FROM pg_stat_database')";
        echo "checksum failure count is $$Chksum";
        <span class="token punctuation">[</span> "$$Chksum" = '0' <span class="token punctuation">]</span> <span class="token punctuation">|</span><span class="token punctuation">|</span> exit 1
      <span class="token key atrule">interval</span><span class="token punctuation">:</span> 5m
      <span class="token key atrule">start_interval</span><span class="token punctuation">:</span> 30s
      <span class="token key atrule">start_period</span><span class="token punctuation">:</span> 5m
    <span class="token key atrule">command</span><span class="token punctuation">:</span> <span class="token punctuation">></span><span class="token punctuation">-</span>
      postgres
      <span class="token punctuation">-</span>c shared_preload_libraries=vectors.so
      <span class="token punctuation">-</span>c 'search_path="$$user"<span class="token punctuation">,</span> public<span class="token punctuation">,</span> vectors'
      <span class="token punctuation">-</span>c logging_collector=on
      <span class="token punctuation">-</span>c max_wal_size=2GB
      <span class="token punctuation">-</span>c shared_buffers=512MB
      <span class="token punctuation">-</span>c wal_compression=on
    <span class="token key atrule">restart</span><span class="token punctuation">:</span> always

<span class="token key atrule">volumes</span><span class="token punctuation">:</span>
  model<span class="token punctuation">-</span>cache<span class="token punctuation">:</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>.env文件：</p>
<pre class="line-numbers language-sh"><code class="language-sh"># You can find documentation for all the supported env variables at https://immich.app/docs/install/environment-variables

# The location where your uploaded files are stored
UPLOAD_LOCATION=/vol1/1000/photos
# The location where your database files are stored
DB_DATA_LOCATION=/vol1/1000/docker/immich/db
MODEL_CACHE=/vol1/1000/docker/immich/model_cache

# To set a timezone, uncomment the next line and change Etc/UTC to a TZ identifier from this list: https://en.wikipedia.org/wiki/List_of_tz_database_time_zones#List
TZ=Asia/Shanghai

# The Immich version to use. You can pin this to a specific version like "v1.71.0"
IMMICH_VERSION=release

# Connection secret for postgres. You should change it to a random password
# Please use only the characters `A-Za-z0-9`, without special characters or spaces
DB_PASSWORD=postgres

# The values below this line do not need to be changed
###################################################################################
DB_USERNAME=postgres
DB_DATABASE_NAME=immich<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="iptv">2.12&emsp;iptv</h2><p>IPTV是一种通过互联网协议提供电视内容的服务，该镜像是个直播源代理程序。  </p>
<pre class="line-numbers language-yaml"><code class="language-yaml"><span class="token key atrule">services</span><span class="token punctuation">:</span>
  <span class="token key atrule">allinone</span><span class="token punctuation">:</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> youshandefeiyang/allinone
    <span class="token key atrule">container_name</span><span class="token punctuation">:</span> allinone
    <span class="token key atrule">privileged</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
    <span class="token key atrule">restart</span><span class="token punctuation">:</span> always
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token string">"35455:35455"</span>
    <span class="token key atrule">network_mode</span><span class="token punctuation">:</span> bridge
    <span class="token key atrule">command</span><span class="token punctuation">:</span> <span class="token punctuation">-</span>tv=true <span class="token punctuation">-</span>aesKey= <span class="token comment" spellcheck="true">#具体用法自行搜索，完整command总不能告诉你把</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="komga">2.13&emsp;komga</h2><p>Komga 是一款开源的漫画和图书管理服务，支持多种格式文件（如 CBZ、EPUB 等）的在线阅读和分类管理，适合搭建私人漫画库。  </p>
<pre class="line-numbers language-yaml"><code class="language-yaml"><span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token string">'3.3'</span>
<span class="token key atrule">services</span><span class="token punctuation">:</span>
  <span class="token key atrule">komga</span><span class="token punctuation">:</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> gotson/komga
    <span class="token key atrule">container_name</span><span class="token punctuation">:</span> komga
    <span class="token key atrule">environment</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token string">"PUID=0"</span>
      <span class="token punctuation">-</span> <span class="token string">"PGID=0"</span>
      <span class="token punctuation">-</span> <span class="token string">"UMASK=022"</span>
    <span class="token key atrule">network_mode</span><span class="token punctuation">:</span> <span class="token string">"bridge"</span>
    <span class="token key atrule">restart</span><span class="token punctuation">:</span> <span class="token string">"always"</span>
    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token key atrule">type</span><span class="token punctuation">:</span> bind
        <span class="token key atrule">source</span><span class="token punctuation">:</span> ./config
        <span class="token key atrule">target</span><span class="token punctuation">:</span> /config
      <span class="token punctuation">-</span> <span class="token key atrule">type</span><span class="token punctuation">:</span> bind
        <span class="token key atrule">source</span><span class="token punctuation">:</span> ./data
        <span class="token key atrule">target</span><span class="token punctuation">:</span> /data
      <span class="token punctuation">-</span> <span class="token key atrule">type</span><span class="token punctuation">:</span> bind
        <span class="token key atrule">source</span><span class="token punctuation">:</span> /etc/timezone <span class="token comment" spellcheck="true">#alternatively you can use a TZ environment variable, like TZ=Europe/London</span>
        <span class="token key atrule">target</span><span class="token punctuation">:</span> /etc/timezone
        <span class="token key atrule">read_only</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> 25600<span class="token punctuation">:</span><span class="token number">25600</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="minecraft-server">2.14&emsp;minecraft-server</h2><p>Minecraft-Server 是运行 Minecraft 游戏服务器的容器，支持多人联机游戏，适合玩家搭建私人游戏服务器或社群服务器。  </p>
<pre class="line-numbers language-yaml"><code class="language-yaml"><span class="token key atrule">services</span><span class="token punctuation">:</span>
  <span class="token key atrule">mc</span><span class="token punctuation">:</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> itzg/minecraft<span class="token punctuation">-</span>server
    <span class="token key atrule">tty</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
    <span class="token key atrule">stdin_open</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token string">"25565:25565"</span>
    <span class="token key atrule">environment</span><span class="token punctuation">:</span>
      <span class="token key atrule">EULA</span><span class="token punctuation">:</span> <span class="token string">"TRUE"</span>
      <span class="token key atrule">PUID</span><span class="token punctuation">:</span> <span class="token number">0</span>
      <span class="token key atrule">PGID</span><span class="token punctuation">:</span> <span class="token number">0</span>
      <span class="token key atrule">UMASK</span><span class="token punctuation">:</span> <span class="token number">022</span>
      <span class="token key atrule">TYPE</span><span class="token punctuation">:</span> <span class="token string">"FABRIC"</span>
      <span class="token comment" spellcheck="true">#OPS: "8a2ee9a2-dc33-4e83-ba80-5670cd636b47"</span>
      <span class="token key atrule">OPS</span><span class="token punctuation">:</span> <span class="token string">"JiyoTomare"</span>
    <span class="token key atrule">network_mode</span><span class="token punctuation">:</span> <span class="token string">"bridge"</span>
    <span class="token key atrule">restart</span><span class="token punctuation">:</span> <span class="token string">"always"</span>
    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
      <span class="token comment" spellcheck="true"># attach the relative directory 'data' to the container's /data path</span>
      <span class="token punctuation">-</span> ./data<span class="token punctuation">:</span>/data<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="moviepilot">2.15&emsp;moviepilot</h2><p>NAS媒体库自动化管理工具，自动化观影平台，pt站玩家必备。  </p>
<pre class="line-numbers language-yaml"><code class="language-yaml"><span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token string">'3.3'</span>
<span class="token key atrule">services</span><span class="token punctuation">:</span>
  <span class="token key atrule">moviepilot</span><span class="token punctuation">:</span>
    <span class="token key atrule">stdin_open</span><span class="token punctuation">:</span> <span class="token boolean important">true  </span><span class="token comment" spellcheck="true"># 是否打开标准输入流（交互模式），为 true 时容器可以保持运行并与用户交互</span>
    <span class="token key atrule">tty</span><span class="token punctuation">:</span> <span class="token boolean important">true  </span><span class="token comment" spellcheck="true"># 是否分配伪终端，使容器的终端行为更像一个真实的终端</span>
    <span class="token key atrule">container_name</span><span class="token punctuation">:</span> moviepilot<span class="token punctuation">-</span>v2  <span class="token comment" spellcheck="true"># 容器的名称</span>
    <span class="token key atrule">hostname</span><span class="token punctuation">:</span> moviepilot<span class="token punctuation">-</span>v2  <span class="token comment" spellcheck="true"># 容器主机名</span>

    <span class="token comment" spellcheck="true"># 网关设置</span>
    <span class="token key atrule">network_mode</span><span class="token punctuation">:</span> host  <span class="token comment" spellcheck="true"># 内置的网关</span>
    <span class="token comment" spellcheck="true"># networks:  # 自定义网关</span>
    <span class="token comment" spellcheck="true">#  - moviepilot</span>

    <span class="token comment" spellcheck="true"># 端口映射，当network_mode的值为 host 时，将失效</span>
    <span class="token comment" spellcheck="true"># ports:</span>
      <span class="token comment" spellcheck="true"># 前端 UI 显示</span>
      <span class="token comment" spellcheck="true"># - target: 3000  # 容器内部端口设置为 3000</span>
      <span class="token comment" spellcheck="true">#   published: 3000  # 映射到宿主机的 3000 端口，允许外部访问</span>
      <span class="token comment" spellcheck="true">#   protocol: tcp  # TCP 协议，可选udp</span>
      <span class="token comment" spellcheck="true"># API 接口</span>
      <span class="token comment" spellcheck="true"># - target: 3001  # 容器内部端口设置为 3001</span>
      <span class="token comment" spellcheck="true">#   published: 3001  # 映射到宿主机的 3001 端口，允许外部访问</span>
      <span class="token comment" spellcheck="true">#   protocol: tcp  # TCP 协议，可选udp</span>

    <span class="token comment" spellcheck="true"># 目录映射：宿主机目录:容器内目录</span>
    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token string">'/vol1/1000/video:/media'</span>  <span class="token comment" spellcheck="true"># 媒体库或下载库路径</span>
      <span class="token punctuation">-</span> <span class="token string">'./moviepilot-v2/config:/config'</span>  <span class="token comment" spellcheck="true"># moviepilot 的配置文件存放路径</span>
      <span class="token punctuation">-</span> <span class="token string">'./moviepilot-v2/core:/moviepilot/.cache/ms-playwright'</span>  <span class="token comment" spellcheck="true"># 浏览器内核存放路径</span>
      <span class="token punctuation">-</span> <span class="token string">'/var/run/docker.sock:/var/run/docker.sock:ro'</span>  <span class="token comment" spellcheck="true"># 用于获取宿主机的docker管理权，一般用于UI页面重启或自动更新</span>

    <span class="token comment" spellcheck="true"># 环境变量：- '变量名=值‘</span>
    <span class="token key atrule">environment</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token string">'NGINX_PORT=3000'</span>  <span class="token comment" spellcheck="true"># UI页面的内部监听端口</span>
      <span class="token punctuation">-</span> <span class="token string">'PORT=3001'</span>  <span class="token comment" spellcheck="true"># API接口的内部监听端口</span>
      <span class="token punctuation">-</span> <span class="token string">'PUID=0'</span>  <span class="token comment" spellcheck="true"># 设置应用运行时的用户 ID 为 0（root 用户）</span>
      <span class="token punctuation">-</span> <span class="token string">'PGID=0'</span>  <span class="token comment" spellcheck="true"># 设置应用运行时的组 ID 为 0（root 组）</span>
      <span class="token punctuation">-</span> <span class="token string">'UMASK=000'</span>  <span class="token comment" spellcheck="true"># 文件创建时的默认权限掩码，000 表示不限制权限</span>
      <span class="token punctuation">-</span> <span class="token string">'TZ=Asia/Shanghai'</span>  <span class="token comment" spellcheck="true"># 设置时区为上海（Asia/Shanghai）</span>
      <span class="token punctuation">-</span> <span class="token string">'PROXY_HOST=http://192.168.100.45:7890'</span>
      <span class="token comment" spellcheck="true"># - 'AUTH_SITE=iyuu'  # 设置认证站点，v2.0.7+版本以后可不设置，直接通过 UI 配置</span>
      <span class="token comment" spellcheck="true"># - 'IYUU_SIGN=xxxx'  # 单个站点密钥，配合 AUTH_SITE 使用</span>
      <span class="token punctuation">-</span> <span class="token string">'SUPERUSER=admin'</span>  <span class="token comment" spellcheck="true"># 设置超级用户为 admin</span>
      <span class="token comment" spellcheck="true"># - 'API_TOKEN=无需手动配置，系统会自动生成。如果需要自定义配置，必须为16位以上的复杂字符串'</span>

    <span class="token comment" spellcheck="true"># 重启模式:</span>
    <span class="token key atrule">restart</span><span class="token punctuation">:</span> always  <span class="token comment" spellcheck="true"># 始终重启</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> jxxghp/moviepilot<span class="token punctuation">-</span>v2<span class="token punctuation">:</span>latest

<span class="token comment" spellcheck="true"># 当使用内置网关时，可不启用</span>
<span class="token comment" spellcheck="true"># networks:</span>
<span class="token comment" spellcheck="true">#   moviepilot:  # 定义一个名为 moviepilot 的自定义网络</span>
<span class="token comment" spellcheck="true">#     name: moviepilot  # 网络的名称</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="openspeedtest">2.16&emsp;openspeedtest</h2><p>OpenSpeedTest 是一个网络测速工具，通过简单的 Web 界面，可以测试设备与服务器之间的上传和下载速度。  </p>
<pre class="line-numbers language-yaml"><code class="language-yaml"><span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token string">'3.3'</span>
<span class="token key atrule">services</span><span class="token punctuation">:</span>
    <span class="token key atrule">speedtest</span><span class="token punctuation">:</span>
        <span class="token key atrule">restart</span><span class="token punctuation">:</span> always
        <span class="token key atrule">container_name</span><span class="token punctuation">:</span> openspeedtest
        <span class="token key atrule">ports</span><span class="token punctuation">:</span>
            <span class="token punctuation">-</span> <span class="token string">'3003:3000'</span>
            <span class="token punctuation">-</span> <span class="token string">'3004:3001'</span>
        <span class="token key atrule">image</span><span class="token punctuation">:</span> openspeedtest/latest<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="qbittorrent">2.17&emsp;qbittorrent</h2><p>qBittorrent 是一个 BitTorrent 客户端，支持跨平台文件共享和下载，提供 Web 界面管理功能，适合离线下载和资源分发。  </p>
<pre class="line-numbers language-yaml"><code class="language-yaml"><span class="token key atrule">services</span><span class="token punctuation">:</span>
  <span class="token key atrule">qbittorrent</span><span class="token punctuation">:</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> binswm/qbittorrent<span class="token punctuation">:</span>4.3.9
    <span class="token key atrule">container_name</span><span class="token punctuation">:</span> qbittorrent
    <span class="token key atrule">restart</span><span class="token punctuation">:</span> always
    <span class="token key atrule">network_mode</span><span class="token punctuation">:</span> bridge
    <span class="token key atrule">environment</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> PUID=0
      <span class="token punctuation">-</span> PGID=0
      <span class="token punctuation">-</span> UMASK_SET=022
      <span class="token punctuation">-</span> TZ=Asia/Shanghai <span class="token comment" spellcheck="true"># 你的时区</span>
      <span class="token punctuation">-</span> WEBUI_PORT=8081 <span class="token comment" spellcheck="true"># 将此处修改成你欲使用的 WEB 管理平台端口 </span>
    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> ./config<span class="token punctuation">:</span>/config <span class="token comment" spellcheck="true"># 绝对路径请修改为自己的config文件夹</span>
      <span class="token punctuation">-</span> ./downloads<span class="token punctuation">:</span>/downloads <span class="token comment" spellcheck="true"># 绝对路径请修改为自己的downloads文件夹</span>
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
      <span class="token comment" spellcheck="true"># 要使用的映射下载端口与内部下载端口，可保持默认，安装完成后在管理页面仍然可以改成其他端口。</span>
      <span class="token punctuation">-</span> 12812<span class="token punctuation">:</span><span class="token number">6881 </span>
      <span class="token punctuation">-</span> 12812<span class="token punctuation">:</span>6881/udp
      <span class="token comment" spellcheck="true"># 此处WEB UI 目标端口与内部端口务必保证相同，见问题1</span>
      <span class="token punctuation">-</span> 8081<span class="token punctuation">:</span><span class="token number">8081</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="sun-panel">2.18&emsp;sun-panel</h2><p>一个服务器、NAS导航面板、Homepage、浏览器首页。  </p>
<pre class="line-numbers language-yaml"><code class="language-yaml"><span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token string">"3.2"</span>

<span class="token key atrule">services</span><span class="token punctuation">:</span>
  <span class="token key atrule">sun-panel</span><span class="token punctuation">:</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> <span class="token string">'hslr/sun-panel:latest'</span>
    <span class="token key atrule">container_name</span><span class="token punctuation">:</span> sun<span class="token punctuation">-</span>panel
    <span class="token key atrule">environment</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token string">"PUID=0"</span>
      <span class="token punctuation">-</span> <span class="token string">"PGID=0"</span>
      <span class="token punctuation">-</span> <span class="token string">"UMASK=022"</span>
    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> ./conf<span class="token punctuation">:</span>/app/conf
    <span class="token punctuation">-</span> ./database<span class="token punctuation">:</span>/app/database
    <span class="token punctuation">-</span> /var/run/docker.sock<span class="token punctuation">:</span>/var/run/docker.sock
    <span class="token comment" spellcheck="true"># - ./runtime:/app/runtime</span>
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> 3002<span class="token punctuation">:</span><span class="token number">3002</span>
    <span class="token key atrule">restart</span><span class="token punctuation">:</span> always<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="tailscale">2.19&emsp;tailscale</h2><p>tailscale 是一种基于 WireGuard 的零配置 VPN 工具，支持快速建立安全的点对点连接，适用于远程访问、内网穿透和多设备协作。  </p>
<pre class="line-numbers language-yaml"><code class="language-yaml"><span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token string">'3.7'</span>
<span class="token key atrule">services</span><span class="token punctuation">:</span>
    <span class="token key atrule">tailscale</span><span class="token punctuation">:</span>
        <span class="token key atrule">container_name</span><span class="token punctuation">:</span> tailscale
        <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
            <span class="token punctuation">-</span> /vol1/1000/docker/tailscale/var/lib<span class="token punctuation">:</span>/var/lib
            <span class="token punctuation">-</span> /vol1/1000/docker/tailscale/dev/net/tun<span class="token punctuation">:</span>/dev/net/tun
        <span class="token key atrule">network_mode</span><span class="token punctuation">:</span> host
        <span class="token key atrule">restart</span><span class="token punctuation">:</span> unless<span class="token punctuation">-</span>stopped
        <span class="token key atrule">environment</span><span class="token punctuation">:</span>
            <span class="token punctuation">-</span> TS_AUTHKEY=xxxxxxxxxxxxxxxx
            <span class="token punctuation">-</span> TS_EXTRA_ARGS=<span class="token punctuation">-</span><span class="token punctuation">-</span>advertise<span class="token punctuation">-</span>exit<span class="token punctuation">-</span>node
            <span class="token punctuation">-</span> TS_ROUTES=192.168.100.0/24   <span class="token comment" spellcheck="true">#把xx替换成自己网关的网段</span>
            <span class="token punctuation">-</span> TS_HOSTNAME=fnOS    <span class="token comment" spellcheck="true">#把xx替换成自己喜欢的名字，比如 fnOS</span>
            <span class="token punctuation">-</span> TS_STATE_DIR=./state/
        <span class="token key atrule">image</span><span class="token punctuation">:</span> tailscale/tailscale<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h1 id="VPS">3&emsp;VPS</h1><h2 id="rss">3.1&emsp;rss</h2><p>Tiny Tiny RSS 是一款基于 PHP 的免费开源 RSS 聚合阅读器。🐋 Awesome TTRSS 旨在提供一个 「一站式容器化」 的 Tiny Tiny RSS 解决方案，通过提供简易的部署方式以及一些额外插件，以提升用户体验。  </p>
<pre class="line-numbers language-yaml"><code class="language-yaml"><span class="token key atrule">services</span><span class="token punctuation">:</span>
  <span class="token key atrule">service.ttrss</span><span class="token punctuation">:</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> wangqiru/ttrss<span class="token punctuation">:</span>latest
    <span class="token key atrule">container_name</span><span class="token punctuation">:</span> ttrss
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> 181<span class="token punctuation">:</span><span class="token number">80</span>
    <span class="token key atrule">environment</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> SELF_URL_PATH=http<span class="token punctuation">:</span>//yourdomain.com<span class="token punctuation">:</span><span class="token number">181 </span><span class="token comment" spellcheck="true"># please change to your own domain</span>
      <span class="token punctuation">-</span> DB_PASS=6666666666 <span class="token comment" spellcheck="true"># use the same password defined in `database.postgres`</span>
      <span class="token punctuation">-</span> ALLOW_PORTS=3000
      <span class="token punctuation">-</span> PUID=1000
      <span class="token punctuation">-</span> PGID=1000
    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> feed<span class="token punctuation">-</span>icons<span class="token punctuation">:</span>/var/www/feed<span class="token punctuation">-</span>icons/
    <span class="token key atrule">networks</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> public_access
      <span class="token punctuation">-</span> service_only
      <span class="token punctuation">-</span> database_only
    <span class="token key atrule">stdin_open</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
    <span class="token key atrule">tty</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
    <span class="token key atrule">depends_on</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> database.postgres
    <span class="token key atrule">restart</span><span class="token punctuation">:</span> always
    <span class="token key atrule">healthcheck</span><span class="token punctuation">:</span>
      <span class="token key atrule">test</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">"CMD-SHELL"</span><span class="token punctuation">,</span> <span class="token string">"curl -f http://localhost:80 || exit 1"</span><span class="token punctuation">]</span>
      <span class="token key atrule">start_period</span><span class="token punctuation">:</span> 30s
      <span class="token key atrule">interval</span><span class="token punctuation">:</span> 30s
      <span class="token key atrule">timeout</span><span class="token punctuation">:</span> 10s
      <span class="token key atrule">retries</span><span class="token punctuation">:</span> <span class="token number">5</span>

  <span class="token key atrule">service.mercury</span><span class="token punctuation">:</span> <span class="token comment" spellcheck="true"># set Mercury Parser API endpoint to `service.mercury:3000` on TTRSS plugin setting page</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> wangqiru/mercury<span class="token punctuation">-</span>parser<span class="token punctuation">-</span>api<span class="token punctuation">:</span>latest
    <span class="token key atrule">container_name</span><span class="token punctuation">:</span> mercury
    <span class="token key atrule">networks</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> public_access
      <span class="token punctuation">-</span> service_only
    <span class="token key atrule">restart</span><span class="token punctuation">:</span> always

  <span class="token key atrule">service.opencc</span><span class="token punctuation">:</span> <span class="token comment" spellcheck="true"># set OpenCC API endpoint to `service.opencc:3000` on TTRSS plugin setting page</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> wangqiru/opencc<span class="token punctuation">-</span>api<span class="token punctuation">-</span>server<span class="token punctuation">:</span>latest
    <span class="token key atrule">container_name</span><span class="token punctuation">:</span> opencc
    <span class="token key atrule">environment</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> NODE_ENV=production
    <span class="token key atrule">networks</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> service_only
    <span class="token key atrule">restart</span><span class="token punctuation">:</span> always

  <span class="token key atrule">database.postgres</span><span class="token punctuation">:</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> postgres<span class="token punctuation">:</span>16<span class="token punctuation">-</span>alpine
    <span class="token key atrule">environment</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> POSTGRES_PASSWORD=6666666666 <span class="token comment" spellcheck="true"># feel free to change the password</span>
    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> ./postgres/data/<span class="token punctuation">:</span>/var/lib/postgresql/data <span class="token comment" spellcheck="true"># persist postgres data to ~/postgres/data/ on the host</span>
    <span class="token key atrule">networks</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> database_only
    <span class="token key atrule">restart</span><span class="token punctuation">:</span> always
    <span class="token key atrule">healthcheck</span><span class="token punctuation">:</span>
      <span class="token key atrule">test</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">"CMD-SHELL"</span><span class="token punctuation">,</span> <span class="token string">"pg_isready -U postgres"</span><span class="token punctuation">]</span>
      <span class="token key atrule">start_period</span><span class="token punctuation">:</span> 30s
      <span class="token key atrule">interval</span><span class="token punctuation">:</span> 30s
      <span class="token key atrule">timeout</span><span class="token punctuation">:</span> 10s
      <span class="token key atrule">retries</span><span class="token punctuation">:</span> <span class="token number">5</span>

  <span class="token comment" spellcheck="true"># utility.watchtower:</span>
  <span class="token comment" spellcheck="true">#   container_name: watchtower</span>
  <span class="token comment" spellcheck="true">#   image: containrrr/watchtower:latest</span>
  <span class="token comment" spellcheck="true">#   volumes:</span>
  <span class="token comment" spellcheck="true">#     - /var/run/docker.sock:/var/run/docker.sock</span>
  <span class="token comment" spellcheck="true">#   environment:</span>
  <span class="token comment" spellcheck="true">#     - WATCHTOWER_CLEANUP=true</span>
  <span class="token comment" spellcheck="true">#     - WATCHTOWER_POLL_INTERVAL=86400</span>
  <span class="token comment" spellcheck="true">#   restart: always</span>

  <span class="token comment" spellcheck="true"># service.rsshub:</span>
  <span class="token comment" spellcheck="true">#   container_name: rsshub</span>
  <span class="token comment" spellcheck="true">#   image: diygod/rsshub:latest</span>
  <span class="token comment" spellcheck="true">#   environment:</span>
  <span class="token comment" spellcheck="true">#     NODE_ENV: production</span>
  <span class="token comment" spellcheck="true">#     DEBUG_INFO: false</span>
  <span class="token comment" spellcheck="true">#     LOGGER_LEVEL: error</span>
  <span class="token comment" spellcheck="true">#     NO_LOGFILES: true</span>
  <span class="token comment" spellcheck="true">#   networks:</span>
  <span class="token comment" spellcheck="true">#     - service_only</span>
  <span class="token comment" spellcheck="true">#   expose:</span>
  <span class="token comment" spellcheck="true">#     - 3000</span>
  <span class="token comment" spellcheck="true">#   restart: unless-stopped</span>

<span class="token key atrule">volumes</span><span class="token punctuation">:</span>
  <span class="token key atrule">feed-icons</span><span class="token punctuation">:</span>

<span class="token key atrule">networks</span><span class="token punctuation">:</span>
  <span class="token key atrule">public_access</span><span class="token punctuation">:</span> <span class="token comment" spellcheck="true"># Provide the access for ttrss UI</span>
  <span class="token key atrule">service_only</span><span class="token punctuation">:</span> <span class="token comment" spellcheck="true"># Provide the communication network between services only</span>
    <span class="token key atrule">internal</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
  <span class="token key atrule">database_only</span><span class="token punctuation">:</span> <span class="token comment" spellcheck="true"># Provide the communication between ttrss and database only</span>
    <span class="token key atrule">internal</span><span class="token punctuation">:</span> <span class="token boolean important">true</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="rsshub">3.2&emsp;rsshub</h2><p>RSSHub 是一个开源的 RSS 生成工具，它的主要作用是将许多无法直接提供 RSS 源的网站内容（如新闻、博客、社交媒体更新等）转化为标准化的 RSS 订阅源，从而让用户通过 RSS 阅读器统一订阅和管理不同来源的信息。  </p>
<pre class="line-numbers language-yaml"><code class="language-yaml"><span class="token key atrule">services</span><span class="token punctuation">:</span>
    <span class="token key atrule">rsshub</span><span class="token punctuation">:</span>
        <span class="token comment" spellcheck="true"># two ways to enable puppeteer:</span>
        <span class="token comment" spellcheck="true"># * comment out marked lines, then use this image instead: diygod/rsshub:chromium-bundled</span>
        <span class="token comment" spellcheck="true"># * (consumes more disk space and memory) leave everything unchanged</span>
        <span class="token key atrule">image</span><span class="token punctuation">:</span> diygod/rsshub
        <span class="token key atrule">restart</span><span class="token punctuation">:</span> always
        <span class="token key atrule">ports</span><span class="token punctuation">:</span>
            <span class="token punctuation">-</span> <span class="token string">"1200:1200"</span>
        <span class="token key atrule">environment</span><span class="token punctuation">:</span>
            <span class="token key atrule">NODE_ENV</span><span class="token punctuation">:</span> production
            <span class="token key atrule">CACHE_TYPE</span><span class="token punctuation">:</span> redis
            <span class="token key atrule">REDIS_URL</span><span class="token punctuation">:</span> <span class="token string">"redis://redis:6379/"</span>
            <span class="token key atrule">PUPPETEER_WS_ENDPOINT</span><span class="token punctuation">:</span> <span class="token string">"ws://browserless:3000"</span> <span class="token comment" spellcheck="true"># marked</span>
            <span class="token comment" spellcheck="true">#ACCESS_KEY: 6666666666</span>
        <span class="token key atrule">healthcheck</span><span class="token punctuation">:</span>
            <span class="token key atrule">test</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">"CMD"</span><span class="token punctuation">,</span> <span class="token string">"curl"</span><span class="token punctuation">,</span> <span class="token string">"-f"</span><span class="token punctuation">,</span> <span class="token string">"http://localhost:1200/healthz"</span><span class="token punctuation">]</span>
            <span class="token key atrule">interval</span><span class="token punctuation">:</span> 30s
            <span class="token key atrule">timeout</span><span class="token punctuation">:</span> 10s
            <span class="token key atrule">retries</span><span class="token punctuation">:</span> <span class="token number">3</span>
        <span class="token key atrule">depends_on</span><span class="token punctuation">:</span>
            <span class="token punctuation">-</span> redis
            <span class="token punctuation">-</span> browserless <span class="token comment" spellcheck="true"># marked</span>

    <span class="token key atrule">browserless</span><span class="token punctuation">:</span> <span class="token comment" spellcheck="true"># marked</span>
        <span class="token key atrule">image</span><span class="token punctuation">:</span> browserless/chrome <span class="token comment" spellcheck="true"># marked</span>
        <span class="token key atrule">restart</span><span class="token punctuation">:</span> always <span class="token comment" spellcheck="true"># marked</span>
        <span class="token key atrule">ulimits</span><span class="token punctuation">:</span> <span class="token comment" spellcheck="true"># marked</span>
            <span class="token key atrule">core</span><span class="token punctuation">:</span> <span class="token comment" spellcheck="true"># marked</span>
                <span class="token key atrule">hard</span><span class="token punctuation">:</span> <span class="token number">0 </span><span class="token comment" spellcheck="true"># marked</span>
                <span class="token key atrule">soft</span><span class="token punctuation">:</span> <span class="token number">0 </span><span class="token comment" spellcheck="true"># marked</span>
        <span class="token key atrule">healthcheck</span><span class="token punctuation">:</span>
            <span class="token key atrule">test</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">"CMD"</span><span class="token punctuation">,</span> <span class="token string">"curl"</span><span class="token punctuation">,</span> <span class="token string">"-f"</span><span class="token punctuation">,</span> <span class="token string">"http://localhost:3000/pressure"</span><span class="token punctuation">]</span>
            <span class="token key atrule">interval</span><span class="token punctuation">:</span> 30s
            <span class="token key atrule">timeout</span><span class="token punctuation">:</span> 10s
            <span class="token key atrule">retries</span><span class="token punctuation">:</span> <span class="token number">3</span>

    <span class="token key atrule">redis</span><span class="token punctuation">:</span>
        <span class="token key atrule">image</span><span class="token punctuation">:</span> redis<span class="token punctuation">:</span>alpine
        <span class="token key atrule">restart</span><span class="token punctuation">:</span> always
        <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
            <span class="token punctuation">-</span> redis<span class="token punctuation">-</span>data<span class="token punctuation">:</span>/data
        <span class="token key atrule">healthcheck</span><span class="token punctuation">:</span>
            <span class="token key atrule">test</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">"CMD"</span><span class="token punctuation">,</span> <span class="token string">"redis-cli"</span><span class="token punctuation">,</span> <span class="token string">"ping"</span><span class="token punctuation">]</span>
            <span class="token key atrule">interval</span><span class="token punctuation">:</span> 30s
            <span class="token key atrule">timeout</span><span class="token punctuation">:</span> 10s
            <span class="token key atrule">retries</span><span class="token punctuation">:</span> <span class="token number">5</span>
            <span class="token key atrule">start_period</span><span class="token punctuation">:</span> 5s

<span class="token key atrule">volumes</span><span class="token punctuation">:</span>
    redis<span class="token punctuation">-</span>data<span class="token punctuation">:</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="rustdesk">3.3&emsp;rustdesk</h2><p>RustDesk 是一款开源的远程桌面软件，类似于 TeamViewer 和 AnyDesk，但更加注重隐私与自主可控。它允许用户通过互联网远程访问和控制其他设备，支持跨平台使用（如 Windows、macOS、Linux、iOS 和 Android）。  </p>
<pre class="line-numbers language-yaml"><code class="language-yaml"><span class="token key atrule">networks</span><span class="token punctuation">:</span>
  <span class="token key atrule">rustdesk-net</span><span class="token punctuation">:</span>
    <span class="token key atrule">external</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>

<span class="token comment" spellcheck="true"># 21114~21119端口记得开放</span>
<span class="token key atrule">services</span><span class="token punctuation">:</span>
  <span class="token key atrule">hbbs</span><span class="token punctuation">:</span>
    <span class="token key atrule">container_name</span><span class="token punctuation">:</span> hbbs
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> 21115<span class="token punctuation">:</span><span class="token number">21115</span>
      <span class="token punctuation">-</span> 21116<span class="token punctuation">:</span><span class="token number">21116 </span><span class="token comment" spellcheck="true"># 自定义 hbbs 映射端口</span>
      <span class="token punctuation">-</span> 21116<span class="token punctuation">:</span>21116/udp <span class="token comment" spellcheck="true"># 自定义 hbbs 映射端口</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> rustdesk/rustdesk<span class="token punctuation">-</span>server
    <span class="token key atrule">command</span><span class="token punctuation">:</span> hbbs <span class="token punctuation">-</span>r xxx.xxx.xxx.xxx<span class="token punctuation">:</span>21117 <span class="token punctuation">-</span>k 66666666666666
    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> ./data<span class="token punctuation">:</span>/root <span class="token comment" spellcheck="true"># 自定义挂载目录</span>
    <span class="token key atrule">networks</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> rustdesk<span class="token punctuation">-</span>net
    <span class="token key atrule">depends_on</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> hbbr
    <span class="token key atrule">restart</span><span class="token punctuation">:</span> unless<span class="token punctuation">-</span>stopped
    <span class="token key atrule">deploy</span><span class="token punctuation">:</span>
      <span class="token key atrule">resources</span><span class="token punctuation">:</span>
        <span class="token key atrule">limits</span><span class="token punctuation">:</span>
          <span class="token key atrule">memory</span><span class="token punctuation">:</span> 64M

  <span class="token key atrule">hbbr</span><span class="token punctuation">:</span>
    <span class="token key atrule">container_name</span><span class="token punctuation">:</span> hbbr
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> 21117<span class="token punctuation">:</span><span class="token number">21117 </span><span class="token comment" spellcheck="true"># 自定义 hbbr 映射端口</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> rustdesk/rustdesk<span class="token punctuation">-</span>server
    <span class="token key atrule">command</span><span class="token punctuation">:</span> hbbr <span class="token punctuation">-</span>k 66666666666666
    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> ./data<span class="token punctuation">:</span>/root <span class="token comment" spellcheck="true"># 自定义挂载目录</span>
    <span class="token key atrule">networks</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> rustdesk<span class="token punctuation">-</span>net
    <span class="token key atrule">restart</span><span class="token punctuation">:</span> unless<span class="token punctuation">-</span>stopped
    <span class="token key atrule">deploy</span><span class="token punctuation">:</span>
      <span class="token key atrule">resources</span><span class="token punctuation">:</span>
        <span class="token key atrule">limits</span><span class="token punctuation">:</span>
          <span class="token key atrule">memory</span><span class="token punctuation">:</span> 64M

  <span class="token key atrule">rustdesk-api-server</span><span class="token punctuation">:</span>
    <span class="token key atrule">container_name</span><span class="token punctuation">:</span> rustdesk<span class="token punctuation">-</span>api<span class="token punctuation">-</span>server
    <span class="token key atrule">image</span><span class="token punctuation">:</span> kingmo888/rustdesk<span class="token punctuation">-</span>api<span class="token punctuation">-</span>server<span class="token punctuation">:</span>latest
    <span class="token key atrule">environment</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> CSRF_TRUSTED_ORIGINS=http<span class="token punctuation">:</span>//xxx.xxx.xxx.xxx<span class="token punctuation">:</span><span class="token number">21114 </span><span class="token comment" spellcheck="true">#防跨域信任来源，可选</span>
      <span class="token punctuation">-</span> ID_SERVER=xxx.xxx.xxx.xxx<span class="token punctuation">:</span><span class="token number">21114 </span><span class="token comment" spellcheck="true">#Web控制端使用的ID服务器</span>
    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> ./db<span class="token punctuation">:</span>/rustdesk<span class="token punctuation">-</span>api<span class="token punctuation">-</span>server/db <span class="token comment" spellcheck="true">#修改为你宿主机数据库挂载目录</span>
      <span class="token punctuation">-</span> /etc/timezone<span class="token punctuation">:</span>/etc/timezone<span class="token punctuation">:</span>ro
      <span class="token punctuation">-</span> /etc/localtime<span class="token punctuation">:</span>/etc/localtime<span class="token punctuation">:</span>ro
    <span class="token comment" spellcheck="true">#network_mode: bridge</span>
    <span class="token key atrule">networks</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> rustdesk<span class="token punctuation">-</span>net
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token string">"21114:21114"</span>
    <span class="token key atrule">restart</span><span class="token punctuation">:</span> unless<span class="token punctuation">-</span>stopped<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="tailscale-derp">3.4&emsp;tailscale-derp</h2><p>建DERP组建私有局域网的简单步骤，该方案为了保持极简未配置域名，直接填IP访问，但要注意不要被别人白嫖了（别人知道地址ip也能用）。</p>
<pre class="line-numbers language-yml"><code class="language-yml">
# 记得开放对应端口防火墙
version: "3.8"
services:
services:
  derper:
    image: ghcr.io/yangchuansheng/ip_derper:latest
    container_name: derper
    restart: always
    volumes:
      - /usr/share/zoneinfo/Asia/Shanghai:/etc/localtime:ro
      - ./data/tailscale/tmp:/var/run/tailscale
    ports:
      - "xxxx1:443"           #和后面tailscale admin网页里填的port对应
      - "xxxx2:3478/udp"
#    environment:
#      - DERP_VERIFY_CLIENTS: "true" #使用tailscale客户端鉴权
    depends_on:
      - tailscale

  tailscale:
    image: tailscale/tailscale:latest
    container_name: tailscale
    restart: always
    network_mode: host  #注释本行可使VPS主机不可通过tailscale网络访问
    environment:
      TS_STATE_DIR: /var/lib/tailscale
      TS_USERSPACE: "false"
    volumes:
      - /dev/net/tun:/dev/net/tun
      - ./data/tailscale/state:/var/lib/tailscale
      - ./data/tailscale/tmp:/tmp
      - /usr/share/zoneinfo/Asia/Shanghai:/etc/localtime:ro
    cap_add:
      - net_admin
      - sys_module

#"derpMap": {
#        "OmitDefaultRegions": false, // 设置为 true不下发官方derp节点
#        "Regions": {
#            "901": {
#                "RegionID":   901, 
#                "RegionCode": "derp_self",
#                "RegionName": "derp_self", 
#                "Nodes": [
#                    {
#                        "Name":             "derp_self",
#                        "RegionID":         901,
#                        "HostName":         "0.0.0.0", // 你的公网IP地址
#                        "IPv4":             "0.0.0.0", // 你的公网IP地址
#                        "DERPPort":         xxxx1, 
#                        "InsecureForTests": true, // 客户端不做校验
#                        "STUNPort":         xxxx2,
#                    },
#                ],
#            },
#        },
#    },
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

      </div>

      

    <div class="reprint" id="reprint-statement">
        
            <div class="reprint__author">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-user">
                        Author:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="https://chengpengzhao.com" rel="external nofollow noreferrer">zcp</a>
                </span>
            </div>
            <div class="reprint__type">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-link">
                        Link:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="https://chengpengzhao.com/2025-01-15-mu-qian-zheng-zai-yong-de-ge-lei-fu-wu-docker-compose-ji-lu/">https://chengpengzhao.com/2025-01-15-mu-qian-zheng-zai-yong-de-ge-lei-fu-wu-docker-compose-ji-lu/</a>
                </span>
            </div>
            <div class="reprint__notice">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-copyright">
                        Reprint policy:
                    </i>
                </span>
                <span class="reprint-info">
                    All articles in this blog are used except for special statements
                    <a href="https://creativecommons.org/licenses/by/4.0/deed.zh" rel="external nofollow noreferrer" target="_blank">CC BY 4.0</a>
                    reprint polocy. If reproduced, please indicate source
                    <a href="https://chengpengzhao.com" target="_blank">zcp</a>
                    !
                </span>
            </div>
        
    </div>

    <script async defer>
      document.addEventListener("copy", function (e) {
        let toastHTML = '<span>Copied successfully, please follow the reprint policy of this article</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">more</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }
    </script>



      <div class="tag_share" style="display: block;">
        <div class="post-meta__tag-list" style="display: inline-block;">
          
          <div class="article-tag">
            
            <a href="/tags/NAS/">
              <span class="chip bg-color">NAS</span>
            </a>
            
            <a href="/tags/docker/">
              <span class="chip bg-color">docker</span>
            </a>
            
          </div>
          
        </div>
        <div class="post_share" style="zoom: 80%; width: fit-content; display: inline-block; float: right; margin: -0.15rem 0;">
          <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">

<div id="article-share">
    
    
    <div class="social-share" data-sites="twitter,facebook,qq,wechat,douban,linkedin" data-wechat-qrcode-helper="<p>微信扫一扫即可分享！</p>"></div>
    <script src="/libs/share/js/social-share.min.js"></script>
    

    

</div>

        </div>
      </div>
      
      <style>
    #reward {
        margin: 40px 0;
        text-align: center;
    }

    #reward .reward-link {
        font-size: 1.4rem;
        line-height: 38px;
    }

    #reward .btn-floating:hover {
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2), 0 5px 15px rgba(0, 0, 0, 0.2);
    }

    #rewardModal {
        width: 320px;
        height: 350px;
    }

    #rewardModal .reward-title {
        margin: 15px auto;
        padding-bottom: 5px;
    }

    #rewardModal .modal-content {
        padding: 10px;
    }

    #rewardModal .close {
        position: absolute;
        right: 15px;
        top: 15px;
        color: rgba(0, 0, 0, 0.5);
        font-size: 1.3rem;
        line-height: 20px;
        cursor: pointer;
    }

    #rewardModal .close:hover {
        color: #ef5350;
        transform: scale(1.3);
        -moz-transform:scale(1.3);
        -webkit-transform:scale(1.3);
        -o-transform:scale(1.3);
    }

    #rewardModal .reward-tabs {
        margin: 0 auto;
        width: 210px;
    }

    .reward-tabs .tabs {
        height: 38px;
        margin: 10px auto;
        padding-left: 0;
    }

    .reward-content ul {
        padding-left: 0 !important;
    }

    .reward-tabs .tabs .tab {
        height: 38px;
        line-height: 38px;
    }

    .reward-tabs .tab a {
        color: #fff;
        background-color: #ccc;
    }

    .reward-tabs .tab a:hover {
        background-color: #ccc;
        color: #fff;
    }

    .reward-tabs .wechat-tab .active {
        color: #fff !important;
        background-color: #22AB38 !important;
    }

    .reward-tabs .alipay-tab .active {
        color: #fff !important;
        background-color: #019FE8 !important;
    }

    .reward-tabs .reward-img {
        width: 210px;
        height: 210px;
    }
</style>

<div id="reward">
    <a href="#rewardModal" class="reward-link modal-trigger btn-floating btn-medium waves-effect waves-light red">赏</a>

    <!-- Modal Structure -->
    <div id="rewardModal" class="modal">
        <div class="modal-content">
            <a class="close modal-close"><i class="fas fa-times"></i></a>
            <h4 class="reward-title">你的赏识是我前进的动力</h4>
            <div class="reward-content">
                <div class="reward-tabs">
                    <ul class="tabs row">
                        <li class="tab col s6 alipay-tab waves-effect waves-light"><a href="#alipay">支付宝</a></li>
                        <li class="tab col s6 wechat-tab waves-effect waves-light"><a href="#wechat">微 信</a></li>
                    </ul>
                    <div id="alipay">
                        <img src="/medias/loading.gif" data-original="/medias/reward/alipay.jpg" class="reward-img" alt="支付宝打赏二维码">
                    </div>
                    <div id="wechat">
                        <img src="/medias/loading.gif" data-original="/medias/reward/wechat.png" class="reward-img" alt="微信打赏二维码">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-9309083999384234"
     data-ad-slot="1388383579"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>

<script>
    $(function () {
        $('.tabs').tabs();
    });
</script>

      
    </div>
  </div>
  

  
  <link rel="stylesheet" href="/libs/gitalk/gitalk.css">
<link rel="stylesheet" href="/css/my-gitalk.css">

<div class="card gitalk-card" >
    <div class="comment_headling" style="font-size: 20px; font-weight: 700; position: relative; left: 20px; top: 15px; padding-bottom: 5px;">
        <i class="fas fa-comments fa-fw" aria-hidden="true"></i>
        <span>评论</span>
    </div>
    <div id="gitalk-container" class="card-content"></div>
</div>

<script src="/libs/gitalk/gitalk.min.js"></script>
<script>
    let gitalk = new Gitalk({
        clientID: 'Ov23li8OiZk3vB79CoQe',
        clientSecret: 'ed8986fcc3a8e3708630c5bd58ae377a832686ce',
        repo: 'Zcp_blog_comments',
        owner: 'chengpengzhao',
        admin: "chengpengzhao",
        id: '2025-01-15T00-00-00',
        distractionFreeMode: false,  // Facebook-like distraction free mode
        proxy: "https://gitalk.chengpengzhao.workers.dev/?https://github.com/login/oauth/access_token"
    });

    gitalk.render('gitalk-container');
</script>

  

  

  

  

  

  

  

  


  

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" >
            <div class="article-badge left-badge text-color">
                <i class="fas fa-chevron-left"></i>&nbsp;Previous</div>
            <div class="card">
                <a href="/2025-02-02-2024-nian-zong-jie-mei-xiang-dao-he-gua-de-biao-ti/">
                    <div class="card-content">
                    <!--<div class="card-image">
                        
                        
                        <img src="/medias/loading.gif" data-original="/medias/featureimages/1.jpg" class="responsive-img" alt="2024年总结--没想到合适的标题">
                        -->
                        <span class="card-title" style="padding: 10px;font-size:20px;font-weight:700;height:100px;">2024年总结--没想到合适的标题</span>

                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            1&emsp;2024年总结依照惯例，看看2024年自己的时间都花在哪了吧：  

回顾一下我的时间分类：

睡眠，毕竟人类的一生有$\frac{1}{3}$的时间都在睡觉  
消费时间，指我们每天的日常工作（或学业），为了获取报酬所花的时
                        
                    </div>
                    <div class="publish-info">
                        <span class="publish-date">
                            <i class="far fa-clock fa-fw icon-date"></i>2025-02-02
                        </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/%E7%94%9F%E6%B4%BB/" class="post-category">
                                    生活
                                </a>
                            
                            <a href="/categories/%E7%94%9F%E6%B4%BB/%E6%9D%82%E6%84%9F/" class="post-category">
                                    杂感
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/atimelogger/">
                        <span class="chip bg-color">atimelogger</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" >
            <div class="article-badge left-badge text-color">
                Next&nbsp;<i class="fas fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/2024-12-30-wu-ipv4-zhe-teng-nas-wai-wang-fang-wen/">
                    <div class="card-content">
                    <!--<div class="card-image">
                        
                        
                        <img src="/medias/loading.gif" data-original="/medias/featureimages/1.jpg" class="responsive-img" alt="无Ipv4折腾NAS外网访问">
                        -->
                        <span class="card-title" style="padding: 10px;font-size:20px;font-weight:700;height:100px;">无Ipv4折腾NAS外网访问</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            1&emsp;背景自从之前我的出租屋联通宽带这套方案实施后（NAS可以外网访问咯），NAS已经稳定运行了有3年多，期间基本没有出现过任何问题（访问不了的情况等），这400块的蜗牛星际当时买来还是挺有性价比的。然而现在不是买房了嘛，联通宽带迁
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2024-12-30
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/%E5%85%B4%E8%B6%A3%E7%88%B1%E5%A5%BD/" class="post-category">
                                    兴趣爱好
                                </a>
                            
                            <a href="/categories/%E7%94%9F%E6%B4%BB/" class="post-category">
                                    生活
                                </a>
                            
                            <a href="/categories/%E7%94%9F%E6%B4%BB/%E8%AE%B0%E5%BD%95/" class="post-category">
                                    记录
                                </a>
                            
                            <a href="/categories/%E5%85%B4%E8%B6%A3%E7%88%B1%E5%A5%BD/VPS-NAS/" class="post-category">
                                    VPS/NAS
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/NAS/">
                        <span class="chip bg-color">NAS</span>
                    </a>
                    
                    <a href="/tags/ddns-go/">
                        <span class="chip bg-color">ddns-go</span>
                    </a>
                    
                    <a href="/tags/tailscale/">
                        <span class="chip bg-color">tailscale</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
    </div>
</article>

</div>



<!-- 代码块功能依赖 -->
<script type="text/javascript" src="/libs/codeBlock/codeBlockFuction.js"></script>

<!-- 代码语言 -->

<script type="text/javascript" src="/libs/codeBlock/codeLang.js"></script>


<!-- 代码块复制 -->

<script type="text/javascript" src="/libs/codeBlock/codeCopy.js"></script>


<!-- 代码块收缩 -->

<script type="text/javascript" src="/libs/codeBlock/codeShrink.js"></script>


<!-- 代码块折行 -->


    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget">
            <div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;TOC</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC 悬浮按钮. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fas fa-list-ul"></i>
    </a>
</div>


<script src="/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            collapseDepth: Number('3'),
            headingSelector: 'h1, h2, h3, h4'
        });

        // modify the toc link href to support Chinese.
        let i = 0;
        let tocHeading = 'toc-heading-';
        $('#toc-content a').each(function () {
            $(this).attr('href', '#' + tocHeading + (++i));
        });

        // modify the heading title id to support Chinese.
        i = 0;
        $('#articleContent').children('h1, h2, h3, h4').each(function () {
            $(this).attr('id', tocHeading + (++i));
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).hide();
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).show();
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>

    

</main>




    <footer id="bottom" class="page-footer bg-color">
    <div class="container row center-align">
        <div class="col s12 m8 l8 copy-right">
            &copy;&nbsp;
            <span id="year">2019</span>&nbsp;
            <a href="https://chengpengzhao.com" target="_blank">zcp</a>
            |&nbsp;
            
            &nbsp;<i class="fas fa-chart-area"></i>&nbsp;站点总字数:&nbsp;<span
                class="white-color">189.7k</span>&nbsp;字
            
            <br>
            
            
            
            
            
            
            <span id="busuanzi_container_site_uv">
                |&nbsp;<i class="fas fa-users"></i>&nbsp;总访问人数:&nbsp;<span id="busuanzi_value_site_uv"
                    class="white-color"></span>&nbsp;人
            </span>
            
            
            <span id="sitetime">载入运行时间...</span>
            <script>
                function siteTime() {
                    var seconds = 1000;
                    var minutes = seconds * 60;
                    var hours = minutes * 60;
                    var days = hours * 24;
                    var years = days * 365;
                    var today = new Date();
                    var startYear = "2019";
                    var startMonth = "3";
                    var startDate = "18";
                    var startHour = "20";
                    var startMinute = "0";
                    var startSecond = "0";
                    var todayYear = today.getFullYear();
                    var todayMonth = today.getMonth() + 1;
                    var todayDate = today.getDate();
                    var todayHour = today.getHours();
                    var todayMinute = today.getMinutes();
                    var todaySecond = today.getSeconds();
                    var t1 = Date.UTC(startYear, startMonth, startDate, startHour, startMinute, startSecond);
                    var t2 = Date.UTC(todayYear, todayMonth, todayDate, todayHour, todayMinute, todaySecond);
                    var diff = t2 - t1;
                    var diffYears = Math.floor(diff / years);
                    var diffDays = Math.floor((diff / days) - diffYears * 365);

                    if (startYear == todayYear) {
                        document.getElementById("year").innerHTML = todayYear;
                        document.getElementById("sitetime").innerHTML = "本站已运行 " + diffDays + " 天 " ;
                    } else {
                        document.getElementById("year").innerHTML = startYear + " - " + todayYear;
                        document.getElementById("sitetime").innerHTML = "本站已安全运行 " + diffYears + " 年 " + diffDays +
                            " 天 " ;
                    }
                }
                setInterval(siteTime, 1000);
            </script>
            
            <br>
            
        </div>
        <div class="col s12 m4 l4 social-link social-statis">
    <a href="https://github.com/chengpengzhao" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50">
        <i class="fab fa-github"></i>
    </a>



    <a href="mailto:chengpeng_zhao@foxmail.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50">
        <i class="fas fa-envelope-open"></i>
    </a>





    <a href="https://twitter.com/JiyoTomare" class="tooltipped" target="_blank" data-tooltip="关注我的Twitter: https://twitter.com/JiyoTomare" data-position="top" data-delay="50">
        <i class="fab fa-twitter"></i>
    </a>



    <a href="https://keybase.io/jiyotomare" class="tooltipped" target="_blank" data-tooltip="关注我的Keybase: https://keybase.io/jiyotomare" data-position="top" data-delay="50">
        <i class="fab fa-keybase"></i>
    </a>









    <a href="/rss2.xml" class="tooltipped" target="_blank" data-tooltip="RSS 订阅" data-position="top" data-delay="50">
        <i class="fas fa-rss"></i>
    </a>

</div>
    </div>
</footer>

<div class="progress-bar"></div>


    <!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fas fa-search"></i>&nbsp;&nbsp;Search</span>
            <input type="search" id="searchInput" name="s" placeholder="Please enter a search keyword"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script src="/js/search.js"></script>
<script type="text/javascript">
$(function () {
    searchFunc("/" + "search.xml", 'searchInput', 'searchResult');
});
</script>
    <!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fas fa-arrow-up"></i>
    </a>
</div>

    <style>
.bottom-scroll {
  display: none;
  position: fixed;
  right: 76px;
  bottom: 15px;
  padding-top: 15px;
  margin-bottom: 0;
  z-index: 998;
}
.bottom-scroll .btn-floating {
    background: linear-gradient(to right, #0f9d58 0%, #00BFFF 100%);
    width: 48px;
    height: 48px;
    opacity: 0.45;
}
</style>
<!-- 回到底部按钮 -->
<div id="backBottom" class="bottom-scroll">
  <a class="btn-floating btn-large waves-effect waves-light" href="#bottom">
    <i class="fas fa-arrow-down"></i>
  </a>
</div>


    <script src="/libs/materialize/materialize.min.js"></script>
    <script src="/libs/masonry/masonry.pkgd.min.js"></script>
    <!--<script src="/libs/aos/aos.js"></script>-->
    <script src="/libs/scrollprogress/scrollProgress.min.js"></script>
    <script src="/libs/lightGallery/js/lightgallery-all.min.js"></script>
    <script src="/js/matery.js"></script>
    <!-- Global site tag (gtag.js) - Google Analytics -->

<script async src="https://www.googletagmanager.com/gtag/js?id=UA-153112451-1"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag() {
        dataLayer.push(arguments);
    }

    gtag('js', new Date());
    gtag('config', 'UA-153112451-1');
</script>


    <!-- Baidu Analytics -->

    <!-- Baidu Push -->

    
    
    <script async src="/libs/others/busuanzi.pure.mini.js"></script>
    

    

    

    

    

    
    
    
    <script src="/libs/instantpage/instantpage.js" type="module"></script>
    


        <style>
            [bg-lazy] {
                background-image: none !important;
                background-color: #eee !important;
            }
        </style>
        <script>
            window.imageLazyLoadSetting = {
                isSPA: false,
                preloadRatio: 1,
                processImages: null,
            };
        </script><script>window.addEventListener("load",function(){var t=/\.(gif|jpg|jpeg|tiff|png)$/i,r=/^data:image\/[a-z\d\-\.\+]+;base64,/;Array.prototype.slice.call(document.querySelectorAll("img[data-original]")).forEach(function(a){var e=a.parentNode;"A"===e.tagName&&(t.test(e.href)||r.test(e.href))&&(e.href=a.dataset.original)})});</script><script>(r=>{r.imageLazyLoadSetting.processImages=t;var a=r.imageLazyLoadSetting.isSPA,o=r.imageLazyLoadSetting.preloadRatio||1,d=i();function i(){var t=Array.prototype.slice.call(document.querySelectorAll("img[data-original]")),e=Array.prototype.slice.call(document.querySelectorAll("[bg-lazy]"));return t.concat(e)}function t(t){(a||t)&&(d=i());for(var e,n=0;n<d.length;n++)0<=(e=(e=d[n]).getBoundingClientRect()).bottom&&0<=e.left&&e.top<=(r.innerHeight*o||document.documentElement.clientHeight*o)&&(()=>{var t,e,a,o,i=d[n];e=function(){d=d.filter(function(t){return i!==t}),r.imageLazyLoadSetting.onImageLoaded&&r.imageLazyLoadSetting.onImageLoaded(i)},(t=i).dataset.loaded||(t.hasAttribute("bg-lazy")?(t.removeAttribute("bg-lazy"),e&&e()):(a=new Image,o=t.getAttribute("data-original"),a.onload=function(){t.src=o,t.removeAttribute("data-original"),t.setAttribute("data-loaded",!0),e&&e()},a.onerror=function(){t.removeAttribute("data-original"),t.setAttribute("data-loaded",!1),t.src=o},t.src!==o&&(a.src=o)))})()}function e(){clearTimeout(t.tId),t.tId=setTimeout(t,500)}t(),document.addEventListener("scroll",e),r.addEventListener("resize",e),r.addEventListener("orientationchange",e)})(this);</script></body>

</html>
